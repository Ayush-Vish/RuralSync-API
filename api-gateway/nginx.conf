upstream auth {
      server auth:5001; 
}

upstream customer {
      server customer:5002; 
}

upstream shopkeeper {
      server shopkeeper:5003; 
}


upstream agent {
      server agent:5000; 
}


server {
      listen 80;
      server_name api-gateway;
      location /auth {
          proxy_pass http://auth;
      }
      location /customer {
          proxy_pass http://customer;
      }
      location /shopkeeper {
          proxy_pass http://shopkeeper;
      }
      location /agent {
          proxy_pass http://agent;
      }

}


server {
      listen 443;
      server_name api-gateway;
      location /auth {
          proxy_pass http://auth;
      }
      location /customer {
          proxy_pass http://customer;
      }
      location /shopkeeper {
          proxy_pass http://shopkeeper;
      }
      location /agent {
          proxy_pass http://agent;
      }
      
}
